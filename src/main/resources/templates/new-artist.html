<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{fragments/layout}">
<body>
<section layout:fragment="content" class="grid-span">
    <!-- Toast fragment -->
    <div th:if="${error}">
        <div th:replace="~{fragments/toast :: toast('danger', ${error})}"></div>
    </div>

    <div class="mt-3 px-5">
        <h1 class="text-center" style="margin-bottom: 4rem;">Artist Registration</h1>

        <form th:object="${artist}" method="post" enctype="multipart/form-data" onsubmit="disableSubmitButton()">
            <!-- Profile Picture Upload -->
            <div class="text-center" style="margin-bottom: 4rem;">
                <img id="profilePicturePreview" src="/assets/images/user.webp" alt="Profile Picture"
                     class="rounded-circle art-profile" style="width: 150px; height: 150px; object-fit: cover; cursor: pointer;">
                <input type="file" id="profilePicture" name="profilePicture" accept="image/*" hidden>
            </div>

            <!-- Other form fields -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="firstName" th:field="*{firstName}" >
                    <div class="text-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></div>
                </div>
                <div class="col-md-6">
                    <label for="lastName" class="form-label">Last Name</label>
                    <input type="text" class="form-control" id="lastName" th:field="*{lastName}" >
                    <div class="text-danger" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="nickname" class="form-label">Nickname (Optional)</label>
                    <input type="text" class="form-control" id="nickname" th:field="*{nickname}">
                    <div class="text-danger" th:if="${#fields.hasErrors('nickname')}" th:errors="*{nickname}"></div>
                </div>
                <div class="col-md-6">
                    <label for="art-username" class="form-label">Username</label>
                    <input type="text" class="form-control" id="art-username" th:field="*{username}" >
                    <div class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="art-email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="art-email" th:field="*{email}" >
                    <div class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
                </div>
                <div class="col-md-6">
                    <label for="art-password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="art-password" th:field="*{password}" >
                    <div class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="art-confirmPassword" class="form-label">Confirm Password</label>
                    <input type="password" class="form-control" id="art-confirmPassword" name="confirmPassword" >
                </div>
            </div>

            <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-success" id="loadingButton">Register</button>
            </div>
        </form>
    </div>
    <hr class="mt-5">
    <footer th:replace="~{fragments/content-footer}"></footer>
</section>
</body>
</html>